<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="model_data_base.mdb_initializers.somatic_summation_model" href="model_data_base.mdb_initializers.somatic_summation_model.html" /><link rel="prev" title="model_data_base.mdb_initializers.load_simrun_general" href="model_data_base.mdb_initializers.load_simrun_general.html" />

    <!-- Generated with Sphinx 6.1.3 and Furo 2023.03.23 -->
        <title>model_data_base.mdb_initializers.prepare_ANN_batches - In-Silico Framework (ISF) 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/default.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">In-Silico Framework (ISF) 0.0.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../_static/_figures/isf-logo-black.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../_static/_figures/isf-logo-white.png" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">In-Silico Framework (ISF) 0.0.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="SLURM_scripts.html">SLURM_scripts</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="SLURM_scripts.clustercontrol.html">SLURM_scripts.clustercontrol</a></li>
<li class="toctree-l2"><a class="reference internal" href="SLURM_scripts.component_1.html">SLURM_scripts.component_1</a></li>
<li class="toctree-l2"><a class="reference internal" href="SLURM_scripts.component_1_SOMA.html">SLURM_scripts.component_1_SOMA</a></li>
<li class="toctree-l2"><a class="reference internal" href="SLURM_scripts.component_1_special.html">SLURM_scripts.component_1_special</a></li>
<li class="toctree-l2"><a class="reference internal" href="SLURM_scripts.component_isf.html">SLURM_scripts.component_isf</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="barrel_cortex.html">barrel_cortex</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="biophysics_fitting.html">biophysics_fitting</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="biophysics_fitting.L5tt_parameter_setup.html">biophysics_fitting.L5tt_parameter_setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="biophysics_fitting.combiner.html">biophysics_fitting.combiner</a></li>
<li class="toctree-l2"><a class="reference internal" href="biophysics_fitting.ephys.html">biophysics_fitting.ephys</a></li>
<li class="toctree-l2"><a class="reference internal" href="biophysics_fitting.evaluator.html">biophysics_fitting.evaluator</a></li>
<li class="toctree-l2"><a class="reference internal" href="biophysics_fitting.hay_complete_default_setup.html">biophysics_fitting.hay_complete_default_setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="biophysics_fitting.hay_complete_default_setup_python.html">biophysics_fitting.hay_complete_default_setup_python</a></li>
<li class="toctree-l2"><a class="reference internal" href="biophysics_fitting.hay_evaluation.html">biophysics_fitting.hay_evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="biophysics_fitting.hay_evaluation_python.html">biophysics_fitting.hay_evaluation_python</a></li>
<li class="toctree-l2"><a class="reference internal" href="biophysics_fitting.hay_specification.html">biophysics_fitting.hay_specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="biophysics_fitting.model_selection.html">biophysics_fitting.model_selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="biophysics_fitting.optimizer.html">biophysics_fitting.optimizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="biophysics_fitting.parameters.html">biophysics_fitting.parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="biophysics_fitting.setup_stim.html">biophysics_fitting.setup_stim</a></li>
<li class="toctree-l2"><a class="reference internal" href="biophysics_fitting.simulator.html">biophysics_fitting.simulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="biophysics_fitting.utils.html">biophysics_fitting.utils</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">getting_started</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="model_data_base.html">model_data_base</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="model_data_base.IO.html">model_data_base.IO</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="model_data_base.IO.LoaderDumper.html">model_data_base.IO.LoaderDumper</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.cell.html">model_data_base.IO.LoaderDumper.cell</a></li>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.dask_to_categorized_msgpack.html">model_data_base.IO.LoaderDumper.dask_to_categorized_msgpack</a></li>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.dask_to_csv.html">model_data_base.IO.LoaderDumper.dask_to_csv</a></li>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.dask_to_msgpack.html">model_data_base.IO.LoaderDumper.dask_to_msgpack</a></li>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.genetic_algorithm_generation.html">model_data_base.IO.LoaderDumper.genetic_algorithm_generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.just_create_folder.html">model_data_base.IO.LoaderDumper.just_create_folder</a></li>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.just_create_mdb.html">model_data_base.IO.LoaderDumper.just_create_mdb</a></li>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.numpy_to_msgpack.html">model_data_base.IO.LoaderDumper.numpy_to_msgpack</a></li>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.numpy_to_npy.html">model_data_base.IO.LoaderDumper.numpy_to_npy</a></li>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.numpy_to_npz.html">model_data_base.IO.LoaderDumper.numpy_to_npz</a></li>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.pandas_to_msgpack.html">model_data_base.IO.LoaderDumper.pandas_to_msgpack</a></li>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.pandas_to_pickle.html">model_data_base.IO.LoaderDumper.pandas_to_pickle</a></li>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.parent_classes.html">model_data_base.IO.LoaderDumper.parent_classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.reduced_lda_model.html">model_data_base.IO.LoaderDumper.reduced_lda_model</a></li>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.settings.html">model_data_base.IO.LoaderDumper.settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.shared_numpy_store.html">model_data_base.IO.LoaderDumper.shared_numpy_store</a></li>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.to_cloudpickle.html">model_data_base.IO.LoaderDumper.to_cloudpickle</a></li>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.to_msgpack.html">model_data_base.IO.LoaderDumper.to_msgpack</a></li>
<li class="toctree-l4"><a class="reference internal" href="model_data_base.IO.LoaderDumper.to_pickle.html">model_data_base.IO.LoaderDumper.to_pickle</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="model_data_base.IO.dask_wrappers.html">model_data_base.IO.dask_wrappers</a></li>
<li class="toctree-l3"><a class="reference internal" href="model_data_base.IO.roberts_formats.html">model_data_base.IO.roberts_formats</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="model_data_base.analyze.html">model_data_base.analyze</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="model_data_base.analyze.LDA.html">model_data_base.analyze.LDA</a></li>
<li class="toctree-l3"><a class="reference internal" href="model_data_base.analyze.analyze_input_mapper_result.html">model_data_base.analyze.analyze_input_mapper_result</a></li>
<li class="toctree-l3"><a class="reference internal" href="model_data_base.analyze.burst_detection.html">model_data_base.analyze.burst_detection</a></li>
<li class="toctree-l3"><a class="reference internal" href="model_data_base.analyze.spatial_binning.html">model_data_base.analyze.spatial_binning</a></li>
<li class="toctree-l3"><a class="reference internal" href="model_data_base.analyze.spatiotemporal_binning.html">model_data_base.analyze.spatiotemporal_binning</a></li>
<li class="toctree-l3"><a class="reference internal" href="model_data_base.analyze.spike_detection.html">model_data_base.analyze.spike_detection</a></li>
<li class="toctree-l3"><a class="reference internal" href="model_data_base.analyze.temporal_binning.html">model_data_base.analyze.temporal_binning</a></li>
<li class="toctree-l3"><a class="reference internal" href="model_data_base.analyze.voltage_binning.html">model_data_base.analyze.voltage_binning</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model_data_base.distributed_lock.html">model_data_base.distributed_lock</a></li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="model_data_base.mdb_initializers.html">model_data_base.mdb_initializers</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="model_data_base.mdb_initializers.PSPs.html">model_data_base.mdb_initializers.PSPs</a></li>
<li class="toctree-l3"><a class="reference internal" href="model_data_base.mdb_initializers.load_simrun_general.html">model_data_base.mdb_initializers.load_simrun_general</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">model_data_base.mdb_initializers.prepare_ANN_batches</a></li>
<li class="toctree-l3"><a class="reference internal" href="model_data_base.mdb_initializers.somatic_summation_model.html">model_data_base.mdb_initializers.somatic_summation_model</a></li>
<li class="toctree-l3"><a class="reference internal" href="model_data_base.mdb_initializers.synapse_activation_binning.html">model_data_base.mdb_initializers.synapse_activation_binning</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model_data_base.model_data_base.html">model_data_base.model_data_base</a></li>
<li class="toctree-l2"><a class="reference internal" href="model_data_base.settings.html">model_data_base.settings</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="model_data_base.sqlite_backend.html">model_data_base.sqlite_backend</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="model_data_base.sqlite_backend.cloudsqlitedict.html">model_data_base.sqlite_backend.cloudsqlitedict</a></li>
<li class="toctree-l3"><a class="reference internal" href="model_data_base.sqlite_backend.sqlite_backend.html">model_data_base.sqlite_backend.sqlite_backend</a></li>
<li class="toctree-l3"><a class="reference internal" href="model_data_base.sqlite_backend.tuplecloudsqlitedict.html">model_data_base.sqlite_backend.tuplecloudsqlitedict</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model_data_base.utils.html">model_data_base.utils</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="simrun2.html">simrun2</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="simrun2.crossing_over.html">simrun2.crossing_over</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="simrun2.crossing_over.crossing_over_simple_interface.html">simrun2.crossing_over.crossing_over_simple_interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="simrun2.crossing_over.run_skip_time.html">simrun2.crossing_over.run_skip_time</a></li>
<li class="toctree-l3"><a class="reference internal" href="simrun2.crossing_over.utils.html">simrun2.crossing_over.utils</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="simrun2.generate_synapse_activations.html">simrun2.generate_synapse_activations</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun2.parameters_to_cell.html">simrun2.parameters_to_cell</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="simrun2.reduced_model.html">simrun2.reduced_model</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="simrun2.reduced_model.get_kernel.html">simrun2.reduced_model.get_kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="simrun2.reduced_model.spiking_output.html">simrun2.reduced_model.spiking_output</a></li>
<li class="toctree-l3"><a class="reference internal" href="simrun2.reduced_model.synapse_activation.html">simrun2.reduced_model.synapse_activation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="simrun2.rerun_mdb.html">simrun2.rerun_mdb</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun2.rerun_mdb_save_ANN_batches.html">simrun2.rerun_mdb_save_ANN_batches</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun2.run_existing_synapse_activations.html">simrun2.run_existing_synapse_activations</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun2.run_new_simulations.html">simrun2.run_new_simulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun2.seed_manager.html">simrun2.seed_manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun2.sim_trail_to_cell_object.html">simrun2.sim_trail_to_cell_object</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun2.syn_strength_Lang_fig5_batch_run.html">simrun2.syn_strength_Lang_fig5_batch_run</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun2.syn_strength_simrun.html">simrun2.syn_strength_simrun</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun2.test_BAC_firing.html">simrun2.test_BAC_firing</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun2.test_passive_properties.html">simrun2.test_passive_properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun2.test_sustained_firing.html">simrun2.test_sustained_firing</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun2.utils.html">simrun2.utils</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="simrun3.html">simrun3</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="simrun3.PSP_with_cell_modification.html">simrun3.PSP_with_cell_modification</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun3.get_cell_with_network.html">simrun3.get_cell_with_network</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun3.modular_reduced_model_inference.html">simrun3.modular_reduced_model_inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun3.robust_dask_delayed_execution.html">simrun3.robust_dask_delayed_execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun3.simulation_flow.html">simrun3.simulation_flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun3.somatic_summation_model.html">simrun3.somatic_summation_model</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun3.synaptic_strength_fitting.html">simrun3.synaptic_strength_fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun3.utils.html">simrun3.utils</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="single_cell_analyzer.html">single_cell_analyzer</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="single_cell_analyzer.currents.html">single_cell_analyzer.currents</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_cell_analyzer.membrane_potential_analysis.html">single_cell_analyzer.membrane_potential_analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_cell_analyzer.synanalysis.html">single_cell_analyzer.synanalysis</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="single_cell_parser.html">single_cell_parser</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="single_cell_parser.cell.html">single_cell_parser.cell</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="single_cell_parser.cell_modify_functions.html">single_cell_parser.cell_modify_functions</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="single_cell_parser.cell_modify_functions.BAC_injection.html">single_cell_parser.cell_modify_functions.BAC_injection</a></li>
<li class="toctree-l3"><a class="reference internal" href="single_cell_parser.cell_modify_functions.apical_current_injection.html">single_cell_parser.cell_modify_functions.apical_current_injection</a></li>
<li class="toctree-l3"><a class="reference internal" href="single_cell_parser.cell_modify_functions.apical_epsp_injection.html">single_cell_parser.cell_modify_functions.apical_epsp_injection</a></li>
<li class="toctree-l3"><a class="reference internal" href="single_cell_parser.cell_modify_functions.scale_apical.html">single_cell_parser.cell_modify_functions.scale_apical</a></li>
<li class="toctree-l3"><a class="reference internal" href="single_cell_parser.cell_modify_functions.scale_apical_morph_86.html">single_cell_parser.cell_modify_functions.scale_apical_morph_86</a></li>
<li class="toctree-l3"><a class="reference internal" href="single_cell_parser.cell_modify_functions.soma_current_injection.html">single_cell_parser.cell_modify_functions.soma_current_injection</a></li>
<li class="toctree-l3"><a class="reference internal" href="single_cell_parser.cell_modify_functions.synaptic_input.html">single_cell_parser.cell_modify_functions.synaptic_input</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="single_cell_parser.cell_parser.html">single_cell_parser.cell_parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_cell_parser.network.html">single_cell_parser.network</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="single_cell_parser.network_modify_functions.html">single_cell_parser.network_modify_functions</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="single_cell_parser.network_modify_functions.silence_synapses_by_somadist.html">single_cell_parser.network_modify_functions.silence_synapses_by_somadist</a></li>
<li class="toctree-l3"><a class="reference internal" href="single_cell_parser.network_modify_functions.silence_synapses_by_somadist_and_spike_source.html">single_cell_parser.network_modify_functions.silence_synapses_by_somadist_and_spike_source</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="single_cell_parser.network_param_modify_functions.html">single_cell_parser.network_param_modify_functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_cell_parser.network_realizations.html">single_cell_parser.network_realizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_cell_parser.reader.html">single_cell_parser.reader</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_cell_parser.scalar_field.html">single_cell_parser.scalar_field</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_cell_parser.serialize_cell.html">single_cell_parser.serialize_cell</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_cell_parser.sim_control.html">single_cell_parser.sim_control</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_cell_parser.synapse.html">single_cell_parser.synapse</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_cell_parser.synapse_mapper.html">single_cell_parser.synapse_mapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_cell_parser.vpm_activation.html">single_cell_parser.vpm_activation</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_cell_parser.writer.html">single_cell_parser.writer</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="singlecell_input_mapper.html">singlecell_input_mapper</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="singlecell_input_mapper.evoked_PSTH_from_spike_times.html">singlecell_input_mapper.evoked_PSTH_from_spike_times</a></li>
<li class="toctree-l2"><a class="reference internal" href="singlecell_input_mapper.evoked_network_param_from_template.html">singlecell_input_mapper.evoked_network_param_from_template</a></li>
<li class="toctree-l2"><a class="reference internal" href="singlecell_input_mapper.map_singlecell_inputs.html">singlecell_input_mapper.map_singlecell_inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="singlecell_input_mapper.ongoing_network_param_from_template.html">singlecell_input_mapper.ongoing_network_param_from_template</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="singlecell_input_mapper.singlecell_input_mapper.html">singlecell_input_mapper.singlecell_input_mapper</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="singlecell_input_mapper.singlecell_input_mapper.cell.html">singlecell_input_mapper.singlecell_input_mapper.cell</a></li>
<li class="toctree-l3"><a class="reference internal" href="singlecell_input_mapper.singlecell_input_mapper.generate_nr_of_cells_spreadsheet.html">singlecell_input_mapper.singlecell_input_mapper.generate_nr_of_cells_spreadsheet</a></li>
<li class="toctree-l3"><a class="reference internal" href="singlecell_input_mapper.singlecell_input_mapper.network_embedding.html">singlecell_input_mapper.singlecell_input_mapper.network_embedding</a></li>
<li class="toctree-l3"><a class="reference internal" href="singlecell_input_mapper.singlecell_input_mapper.reader.html">singlecell_input_mapper.singlecell_input_mapper.reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="singlecell_input_mapper.singlecell_input_mapper.scalar_field.html">singlecell_input_mapper.singlecell_input_mapper.scalar_field</a></li>
<li class="toctree-l3"><a class="reference internal" href="singlecell_input_mapper.singlecell_input_mapper.synapse_mapper.html">singlecell_input_mapper.singlecell_input_mapper.synapse_mapper</a></li>
<li class="toctree-l3"><a class="reference internal" href="singlecell_input_mapper.singlecell_input_mapper.writer.html">singlecell_input_mapper.singlecell_input_mapper.writer</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="spike_analysis.html">spike_analysis</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="spike_analysis.core.html">spike_analysis.core</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="visualize.html">visualize</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="visualize.array_slices_interactive.html">visualize.array_slices_interactive</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualize.average_std.html">visualize.average_std</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualize.cell_morphology_visualizer.html">visualize.cell_morphology_visualizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualize.cell_to_ipython_animation.html">visualize.cell_to_ipython_animation</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualize.helper_methods.html">visualize.helper_methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualize.histogram.html">visualize.histogram</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualize.manylines.html">visualize.manylines</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualize.rasterplot.html">visualize.rasterplot</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualize.spatiotemporal_heatmap.html">visualize.spatiotemporal_heatmap</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="module-model_data_base.mdb_initializers.prepare_ANN_batches">
<span id="model-data-base-mdb-initializers-prepare-ann-batches"></span><h1>model_data_base.mdb_initializers.prepare_ANN_batches<a class="headerlink" href="#module-model_data_base.mdb_initializers.prepare_ANN_batches" title="Permalink to this heading">#</a></h1>
<p class="rubric">Functions</p>
<div class="table-wrapper autosummary longtable docutils container">
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.augment_synapse_activation_df_with_branch_bin" title="model_data_base.mdb_initializers.prepare_ANN_batches.augment_synapse_activation_df_with_branch_bin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">augment_synapse_activation_df_with_branch_bin</span></code></a>(sa_)</p></td>
<td><p>Given a DataFrame of synaptic activity, this method adds columns giving information on where on the branch this syaptic activity was present.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.compute_AP_array" title="model_data_base.mdb_initializers.prepare_ANN_batches.compute_AP_array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_AP_array</span></code></a>(st, min_time, max_time[, ...])</p></td>
<td><p>Given a collection of spike times of a single trial, this method returns an array of length (max_time - min_time)//step, where, on each timestep of size :&#64;param step:, a boolean represents if a spike is found in this interval.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.compute_ISI_array" title="model_data_base.mdb_initializers.prepare_ANN_batches.compute_ISI_array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_ISI_array</span></code></a>(st, min_time, max_time[, ...])</p></td>
<td><p>For each time point inbetween :&#64;param min_time: and :&#64;param max_time: (in steps of :&#64;param step:), this method calculates where each element is the time since the last spike in ms.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.compute_ISI_from_st" title="model_data_base.mdb_initializers.prepare_ANN_batches.compute_ISI_from_st"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_ISI_from_st</span></code></a>(st, timepoint[, fillna])</p></td>
<td><p>Given a pandas DataFrame or pandas Series of spike times :&#64;param st: and a timepoint, this method returns the time between :&#64;param timepoint: and the most recent spike in ms.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.compute_ISI_from_st_list" title="model_data_base.mdb_initializers.prepare_ANN_batches.compute_ISI_from_st_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_ISI_from_st_list</span></code></a>(st[, min_time, ...])</p></td>
<td><p>Given an array of spike times, this method returns a list of size (:&#64;param max_time: - :&#64;param_min_time:)//:&#64;param time_step:, where each time step gives the amount of time since the last spike in ms.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_bin</span></code>(value, bin_min, bin_max, n_bins[, ...])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.get_bin_adjacency_map_in_section" title="model_data_base.mdb_initializers.prepare_ANN_batches.get_bin_adjacency_map_in_section"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_bin_adjacency_map_in_section</span></code></a>(cell, ...)</p></td>
<td><p>Creates an adjacency map with bin-specific resolution for a given section.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.get_bin_soma_distances_in_section" title="model_data_base.mdb_initializers.prepare_ANN_batches.get_bin_soma_distances_in_section"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_bin_soma_distances_in_section</span></code></a>(...)</p></td>
<td><p>Given a section id, this method returns the distance to soma for all bins in this section</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.get_binsize" title="model_data_base.mdb_initializers.prepare_ANN_batches.get_binsize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_binsize</span></code></a>(length[, binsize_goal])</p></td>
<td><p>given a length of a branch, returns number of binsize and number of bins that results in binning closest to the binsize goal</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_max_depolarization_per_ms</span></code>(vt_dask)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_max_per_ms_on_pandas_dataframe</span></code>(vt_pandas)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.get_neighboring_spatial_bins" title="model_data_base.mdb_initializers.prepare_ANN_batches.get_neighboring_spatial_bins"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_neighboring_spatial_bins</span></code></a>(cell, bin_id, ...)</p></td>
<td><p>Given a bin id, this method returns all the neighboring bins</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_neuron_param_file</span></code>(m)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_section_distances_df</span></code>(neuron_param_file)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.get_spatial_bin_names" title="model_data_base.mdb_initializers.prepare_ANN_batches.get_spatial_bin_names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_spatial_bin_names</span></code></a>(section_distances_df)</p></td>
<td><p>Given a dataframe describing the distance to soma of all sections, as provided by :&#64;function get_section_distances_df:, this method returns the names for all the spatial bins of the format section_id/bin_id.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_synapse_activation_array_weighted</span></code>(sa_[, ...])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_time_groups</span></code>(vt_pandas)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.init" title="model_data_base.mdb_initializers.prepare_ANN_batches.init"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init</span></code></a>(mdb[, mdb_target, min_time, max_time, ...])</p></td>
<td><p>persist: whether the synapse activation dataframe should be loaded into memory on the dask cluster.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_syn_weights</span></code>(m, client)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">run_delayeds_incrementally</span></code>(client, delayeds)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.spike_times_to_onehot" title="model_data_base.mdb_initializers.prepare_ANN_batches.spike_times_to_onehot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">spike_times_to_onehot</span></code></a>(spike_times[, ...])</p></td>
<td><p>This method resembles model_database.analyse.spike_detection.spike_in_interval, but more general.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">temporal_binning_augmented_sa</span></code>(sa_augmented, ...)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<p class="rubric">Classes</p>
<div class="table-wrapper autosummary longtable docutils container">
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Init</span></code>(mdb[, mdb_target, min_time, max_time, ...])</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="model_data_base.mdb_initializers.prepare_ANN_batches.augment_synapse_activation_df_with_branch_bin">
<span class="sig-prename descclassname"><span class="pre">model_data_base.mdb_initializers.prepare_ANN_batches.</span></span><span class="sig-name descname"><span class="pre">augment_synapse_activation_df_with_branch_bin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sa_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">section_distances_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synaptic_weight_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/model_data_base/mdb_initializers/prepare_ANN_batches.html#augment_synapse_activation_df_with_branch_bin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#model_data_base.mdb_initializers.prepare_ANN_batches.augment_synapse_activation_df_with_branch_bin" title="Permalink to this definition">#</a></dt>
<dd><p>Given a DataFrame of synaptic activity, this method adds columns giving information on where on the branch this syaptic activity was present.
This information is represented in a specific format: section_id/bin_within_section.
For this, the sections have to be split up in spatial bins, which is represented in :&#64;param section_distances_df:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sa</strong> (<em>pd.DataFrame</em>) â€“ The dataframe of synaptic activity</p></li>
<li><p><strong>section_distances_df</strong> (<em>pd.DataFrame</em><em>, </em><em>optional</em>) â€“ DataFrame representing each sectionâ€™s spatial bins and binsizes. Defaults to None.</p></li>
<li><p><strong>synaptic_weight_dict</strong> (<em>_type_</em><em>, </em><em>optional</em>) â€“ _description_. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>_description_</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>_type_</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="model_data_base.mdb_initializers.prepare_ANN_batches.compute_AP_array">
<span class="sig-prename descclassname"><span class="pre">model_data_base.mdb_initializers.prepare_ANN_batches.</span></span><span class="sig-name descname"><span class="pre">compute_AP_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">st</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fillna</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/model_data_base/mdb_initializers/prepare_ANN_batches.html#compute_AP_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#model_data_base.mdb_initializers.prepare_ANN_batches.compute_AP_array" title="Permalink to this definition">#</a></dt>
<dd><p>Given a collection of spike times of a single trial, this method returns an array of length (max_time - min_time)//step,
where, on each timestep of size :&#64;param step:, a boolean represents if a spike is found in this interval.</p>
<p>TODO: what is fillna?</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>st</strong> (<em>array</em>) â€“ Array of spike times</p></li>
<li><p><strong>min_time</strong> (<em>float/int</em>) â€“ Min time in ms</p></li>
<li><p><strong>max_time</strong> (<em>float/int</em>) â€“ Max time in ms</p></li>
<li><p><strong>fillna</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>unused</em>) â€“ Fill with NaN until the array has this length. Defaults to 1000. Added for congruence to compute_ISI_array?</p></li>
<li><p><strong>step</strong> (<em>int</em><em>, </em><em>optional</em>) â€“ Size of timesteps to consider. Defaults to 1 ms</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array where each element is a boolean representing if an AP was present during this timestep.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="model_data_base.mdb_initializers.prepare_ANN_batches.compute_ISI_array">
<span class="sig-prename descclassname"><span class="pre">model_data_base.mdb_initializers.prepare_ANN_batches.</span></span><span class="sig-name descname"><span class="pre">compute_ISI_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">st</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fillna</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/model_data_base/mdb_initializers/prepare_ANN_batches.html#compute_ISI_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#model_data_base.mdb_initializers.prepare_ANN_batches.compute_ISI_array" title="Permalink to this definition">#</a></dt>
<dd><p>For each time point inbetween :&#64;param min_time: and :&#64;param max_time: (in steps of :&#64;param step:),
this method calculates where each element is the time since the last spike in ms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>st</strong> (<em>array</em>) â€“ array of spike times</p></li>
<li><p><strong>min_time</strong> (<em>float/int</em>) â€“ minimum time in ms</p></li>
<li><p><strong>max_time</strong> (<em>float/int</em>) â€“ maximum time in ms</p></li>
<li><p><strong>fillna</strong> (<em>int</em><em>, </em><em>optional</em>) â€“ Fill with NaN until the array has this length. Defaults to 1000.</p></li>
<li><p><strong>step</strong> (<em>int/float</em><em>, </em><em>optional</em>) â€“ Size of timestep in ms. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array of length (:&#64;param max_time: - :&#64;param min_time:)//:&#64;param step:,
where each element has as a value the time since the last spike in ms.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="model_data_base.mdb_initializers.prepare_ANN_batches.compute_ISI_from_st">
<span class="sig-prename descclassname"><span class="pre">model_data_base.mdb_initializers.prepare_ANN_batches.</span></span><span class="sig-name descname"><span class="pre">compute_ISI_from_st</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">st</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timepoint</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fillna</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/model_data_base/mdb_initializers/prepare_ANN_batches.html#compute_ISI_from_st"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#model_data_base.mdb_initializers.prepare_ANN_batches.compute_ISI_from_st" title="Permalink to this definition">#</a></dt>
<dd><p>Given a pandas DataFrame or pandas Series of spike times :&#64;param st: and a timepoint, this method returns
the time between :&#64;param timepoint: and the most recent spike in ms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>st</strong> (<em>pd.DataFrame</em><em> | </em><em>pd.Series</em>) â€“ array of spike times</p></li>
<li><p><strong>timepoint</strong> (<em>float/int</em>) â€“ time point to compute last spike time from</p></li>
<li><p><strong>fillna</strong> (<em>int</em><em>, </em><em>optional</em>) â€“ Fill with NaN until the array has this length. Defaults to None (no NaN filling).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The time between :&#64;param timepoint: and the most recent spike in ms.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float/array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="model_data_base.mdb_initializers.prepare_ANN_batches.compute_ISI_from_st_list">
<span class="sig-prename descclassname"><span class="pre">model_data_base.mdb_initializers.prepare_ANN_batches.</span></span><span class="sig-name descname"><span class="pre">compute_ISI_from_st_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">st</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">505</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/model_data_base/mdb_initializers/prepare_ANN_batches.html#compute_ISI_from_st_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#model_data_base.mdb_initializers.prepare_ANN_batches.compute_ISI_from_st_list" title="Permalink to this definition">#</a></dt>
<dd><p>Given an array of spike times, this method returns a list of size (:&#64;param max_time: - :&#64;param_min_time:)//:&#64;param time_step:,
where each time step gives the amount of time since the last spike in ms.
Do not provide a pd.Series or pd.DataFrame here. For that, use :&#64;function model_database.mdb_initialisers.prepare_ANN_batches.compute_ISI_from_st: instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>st</strong> (<em>array</em>) â€“ _description_</p></li>
<li><p><strong>min_time</strong> (<em>int</em><em>, </em><em>optional</em>) â€“ Min time of time window in ms. Defaults to 0.</p></li>
<li><p><strong>max_time</strong> (<em>int</em><em>, </em><em>optional</em>) â€“ Max time of time window in ms. Defaults to 505.</p></li>
<li><p><strong>time_step</strong> (<em>int</em><em>, </em><em>optional</em>) â€“ Timestep in ms. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>_description_</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>_type_</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="model_data_base.mdb_initializers.prepare_ANN_batches.get_bin_adjacency_map_in_section">
<span class="sig-prename descclassname"><span class="pre">model_data_base.mdb_initializers.prepare_ANN_batches.</span></span><span class="sig-name descname"><span class="pre">get_bin_adjacency_map_in_section</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cell</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">section_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">section_distances_df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/model_data_base/mdb_initializers/prepare_ANN_batches.html#get_bin_adjacency_map_in_section"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#model_data_base.mdb_initializers.prepare_ANN_batches.get_bin_adjacency_map_in_section" title="Permalink to this definition">#</a></dt>
<dd><p>Creates an adjacency map with bin-specific resolution for a given section.</p>
<p>Consecutive bins in the same section are trivially connected.
This method also fetches other sections connected to the given section id, and checks at which bins they connect.
Sections are defined by the neuron simulation, but bins are ad-hoc defined by data preparation for the ANN.</p>
<p>This method exploits the tree structure of a neuron, i.e. a child section is always connected at the beginning
This means that all child sections are connected to their parent section at bin number 1
The goal is then to figure out at which bin in the parent section the child is connected to.
Eeach section always has one or more bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cell</strong> (<a class="reference internal" href="single_cell_parser.cell.html#single_cell_parser.cell.Cell" title="single_cell_parser.cell.Cell"><em>Cell</em></a>) â€“ the Cell object</p></li>
<li><p><strong>section_id</strong> (<em>int</em>) â€“ index of the neuron section</p></li>
<li><p><strong>section_distances_df</strong> (<em>pd.DataFrame</em>) â€“ the dataframe describing distance to soma for all sections, as provided by :fun:get_section_distances_df</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a dictionary with bins as keys and a list of adjacent bins as values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>neighboring_bins_dict (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="model_data_base.mdb_initializers.prepare_ANN_batches.get_bin_soma_distances_in_section">
<span class="sig-prename descclassname"><span class="pre">model_data_base.mdb_initializers.prepare_ANN_batches.</span></span><span class="sig-name descname"><span class="pre">get_bin_soma_distances_in_section</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">section_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">section_distances_df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/model_data_base/mdb_initializers/prepare_ANN_batches.html#get_bin_soma_distances_in_section"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#model_data_base.mdb_initializers.prepare_ANN_batches.get_bin_soma_distances_in_section" title="Permalink to this definition">#</a></dt>
<dd><p>Given a section id, this method returns the distance to soma for all bins in this section</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>section_id</strong> (<em>int</em>) â€“ Id of the neuron section</p></li>
<li><p><strong>section_distances_df</strong> (<em>pd.DataFrame</em>) â€“ the dataframe describing distance to soma for all sections, as provided by :&#64;function get_section_distances_df:</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list containing the distance to soma for each bin in a section.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="model_data_base.mdb_initializers.prepare_ANN_batches.get_binsize">
<span class="sig-prename descclassname"><span class="pre">model_data_base.mdb_initializers.prepare_ANN_batches.</span></span><span class="sig-name descname"><span class="pre">get_binsize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binsize_goal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/model_data_base/mdb_initializers/prepare_ANN_batches.html#get_binsize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#model_data_base.mdb_initializers.prepare_ANN_batches.get_binsize" title="Permalink to this definition">#</a></dt>
<dd><p>given a length of a branch, returns number of binsize and number of bins that results in binning closest to
the binsize goal</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="model_data_base.mdb_initializers.prepare_ANN_batches.get_neighboring_spatial_bins">
<span class="sig-prename descclassname"><span class="pre">model_data_base.mdb_initializers.prepare_ANN_batches.</span></span><span class="sig-name descname"><span class="pre">get_neighboring_spatial_bins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cell</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">section_distances_df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/model_data_base/mdb_initializers/prepare_ANN_batches.html#get_neighboring_spatial_bins"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#model_data_base.mdb_initializers.prepare_ANN_batches.get_neighboring_spatial_bins" title="Permalink to this definition">#</a></dt>
<dd><p>Given a bin id, this method returns all the neighboring bins</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cell</strong> (<em>cell</em>) â€“ cell object</p></li>
<li><p><strong>neup</strong> (<em>_type_</em>) â€“ neuron parameter file</p></li>
<li><p><strong>bin_id</strong> (<em>_type_</em>) â€“ BIn id of format: section_id/bin_id</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of all ids of bins that neighbor the given bin</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="model_data_base.mdb_initializers.prepare_ANN_batches.get_spatial_bin_names">
<span class="sig-prename descclassname"><span class="pre">model_data_base.mdb_initializers.prepare_ANN_batches.</span></span><span class="sig-name descname"><span class="pre">get_spatial_bin_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">section_distances_df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/model_data_base/mdb_initializers/prepare_ANN_batches.html#get_spatial_bin_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#model_data_base.mdb_initializers.prepare_ANN_batches.get_spatial_bin_names" title="Permalink to this definition">#</a></dt>
<dd><p>Given a dataframe describing the distance to soma of all sections, as provided by :&#64;function get_section_distances_df:,
this method returns the names for all the spatial bins of the format section_id/bin_id. E.g.: 5/2 denotes the second bin of section 5.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>section_distances_df</strong> (<em>pd.DataFrame</em>) â€“ the dataframe describing distance to soma for all sections, as provided by :&#64;function get_section_distances_df:</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list containing the bin ids in string format.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="model_data_base.mdb_initializers.prepare_ANN_batches.init">
<span class="sig-prename descclassname"><span class="pre">model_data_base.mdb_initializers.prepare_ANN_batches.</span></span><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdb_target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batchsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sti_selection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sti_selection_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">persist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synaptic_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dend_ap_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_-30.0'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/model_data_base/mdb_initializers/prepare_ANN_batches.html#init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#model_data_base.mdb_initializers.prepare_ANN_batches.init" title="Permalink to this definition">#</a></dt>
<dd><p>persist: whether the synapse activation dataframe should be loaded into memory
on the dask cluster. Speeds up the process if it fits in memory, otherwise leads to crash</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="model_data_base.mdb_initializers.prepare_ANN_batches.spike_times_to_onehot">
<span class="sig-prename descclassname"><span class="pre">model_data_base.mdb_initializers.prepare_ANN_batches.</span></span><span class="sig-name descname"><span class="pre">spike_times_to_onehot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spike_times</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">505</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/model_data_base/mdb_initializers/prepare_ANN_batches.html#spike_times_to_onehot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#model_data_base.mdb_initializers.prepare_ANN_batches.spike_times_to_onehot" title="Permalink to this definition">#</a></dt>
<dd><p>This method resembles model_database.analyse.spike_detection.spike_in_interval, but more general.
Given an array of spike times, this method one-hot encodes them to a list of size (max_time - min_time)//time_step,
where each time step, a boolean represents if a spike was found in this time_step.</p>
</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="model_data_base.mdb_initializers.somatic_summation_model.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">model_data_base.mdb_initializers.somatic_summation_model</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="model_data_base.mdb_initializers.load_simrun_general.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">model_data_base.mdb_initializers.load_simrun_general</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Arco Bast, Amir Najafgholi, Maria Royo Cano, Rieke Fruengel, Matt Keaton, Bjorge Meulemeester, Omar Valerio
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">model_data_base.mdb_initializers.prepare_ANN_batches</a><ul>
<li><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.augment_synapse_activation_df_with_branch_bin"><code class="docutils literal notranslate"><span class="pre">augment_synapse_activation_df_with_branch_bin()</span></code></a></li>
<li><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.compute_AP_array"><code class="docutils literal notranslate"><span class="pre">compute_AP_array()</span></code></a></li>
<li><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.compute_ISI_array"><code class="docutils literal notranslate"><span class="pre">compute_ISI_array()</span></code></a></li>
<li><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.compute_ISI_from_st"><code class="docutils literal notranslate"><span class="pre">compute_ISI_from_st()</span></code></a></li>
<li><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.compute_ISI_from_st_list"><code class="docutils literal notranslate"><span class="pre">compute_ISI_from_st_list()</span></code></a></li>
<li><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.get_bin_adjacency_map_in_section"><code class="docutils literal notranslate"><span class="pre">get_bin_adjacency_map_in_section()</span></code></a></li>
<li><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.get_bin_soma_distances_in_section"><code class="docutils literal notranslate"><span class="pre">get_bin_soma_distances_in_section()</span></code></a></li>
<li><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.get_binsize"><code class="docutils literal notranslate"><span class="pre">get_binsize()</span></code></a></li>
<li><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.get_neighboring_spatial_bins"><code class="docutils literal notranslate"><span class="pre">get_neighboring_spatial_bins()</span></code></a></li>
<li><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.get_spatial_bin_names"><code class="docutils literal notranslate"><span class="pre">get_spatial_bin_names()</span></code></a></li>
<li><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.init"><code class="docutils literal notranslate"><span class="pre">init()</span></code></a></li>
<li><a class="reference internal" href="#model_data_base.mdb_initializers.prepare_ANN_batches.spike_times_to_onehot"><code class="docutils literal notranslate"><span class="pre">spike_times_to_onehot()</span></code></a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    </body>
</html>